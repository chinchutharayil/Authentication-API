<div>
  <form [formGroup]="contactInfoForm" (ngSubmit)="SaveEmpContactInfo()">
    <div class="col-12">
      <div class="card card-info">
        <div class="card-body">
          <div class="row">
            <div class="col-sm-4">
              <div class="form-group row">
                <label for="" class="col-sm-5 col-form-label">Contact Type:</label>
                <div class="col-sm-6">
                  <select name="" #contacts formControlName="contactType" (change)="onSelectedContactType()"
                    class="form-control">
                    <option value="">-----Select-----</option>
                    <option *ngFor="let contacts of EmpContactType" [selected]="contacts.id === EmpContactInfo.id"
                      [value]="contacts.id">{{contacts.name}}</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-4">
              <div class="form-group row">
                <label for="" class="col-sm-5 col-form-label">Name:</label>
                <div class="col-sm-6">
                  <input type="text" formControlName="name" name="name" [(ngModel)]="EmpContactInfo.name"
                    class="form-control" placeholder="Enter ... " />
                </div>

              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-4">
              <div class="form-group row">
                <label for="docsno" class="col-sm-5 col-form-label"> Number:</label>
                <div class="col-sm-6">
                  <input name="" formControlName="number" type="text" [(ngModel)]="EmpContactInfo.number"
                    class="form-control" placeholder="Enter ...">
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-4">
              <div class="form-group row">
                <label for="" class="col-sm-5 col-form-label">Email:</label>
                <div class="col-sm-6">
                  <input formControlName="email" type="email" name="email" [(ngModel)]="EmpContactInfo.email"
                    placeholder="example@gmail.com" [ngClass]="{'is-invalid' : submitted && f['email'].errors}"
                    class="form-control" />
                  <!-- <div class="error-block" *ngIf="submitted  && handleError('issueddate', 'required')">
                    Please enter Issued Date
                  </div> -->
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-4">
              <div class="form-group row">
                <label for="" class="col-sm-5 col-form-label">Address:</label>
                <div class="col-sm-6">
                  <input formControlName="address" type="text" name="address" class="form-control"
                    [(ngModel)]="EmpContactInfo.address" placeholder="Enter ..." />
                  <div class="error-block" *ngIf="submitted && handleError('expirydate', 'required')">
                    Please enter Expiry Date
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-4">
              <div class="form-group row">
                <label for="" class="col-sm-5 col-form-label">Country:</label>
                <div class="col-sm-6">
                  <select name="CountryId" #country formControlName="CountryId" (change)="onSelectedCountry()"
                    class="form-control">
                    <option value="">-----Select-----</option>
                    <option *ngFor="let country of CountryList"
                      [selected]="country.countryId === EmpContactInfo.countryId" [value]="country.countryId">
                      {{country.countryName}}</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-4">
              <div class="form-group row">
                <label for="remarks" class="col-sm-5 col-form-label">Remarks:</label>
                <div class="col-sm-6">
                  <input name="remarks" formControlName="remarks" type="text" [(ngModel)]="EmpContactInfo.remarks"
                    class="form-control" placeholder="Enter ...">
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="card-footer clearfix">
        <button type="submit" class="btn btn-info">Save</button>
        &nbsp;
        <button [routerLink]="['/EmployeeSearch']" type="button" class="btn btn-info">Back</button>
        </div>
      </div> 
    </div>
  </form>

  <div class="col-10">
    <div class="card">
      <div class="card-header">
        <h3><strong>Employee Contacts</strong></h3>
      </div>
      <div class="card-body table-responsive p-0"> 
          <div class="content" role="main">
            <div class="example-container mat-elevation-z8">
  
              <table mat-table [dataSource]="dataSource"  class="table-bordened table-striped table-head-fixed" style="width:100%;">
                
                <ng-container matColumnDef="action">
                  <th mat-header-cell *matHeaderCellDef> </th>
                  <td mat-cell *matCellDef="let contact">
                    <a id="editbtn" (click)="BindContactInfoForm(contact.id)"><i class="fas fa-edit"></i></a>
                  </td>
                </ng-container>

                <ng-container matColumnDef="contactTypeName">
                  <th mat-header-cell *matHeaderCellDef>Contact Type</th>
                  <td mat-cell *matCellDef="let contact"> {{contact.contactTypeName}} </td>
                </ng-container>

                <ng-container matColumnDef="contactPersonName">
                  <th mat-header-cell *matHeaderCellDef>Name</th>
                  <td mat-cell *matCellDef="let contact"> {{contact.contactPersonName}} </td>
                </ng-container>

                <ng-container matColumnDef="conatctNumber">
                  <th mat-header-cell *matHeaderCellDef>Number</th>
                  <td mat-cell *matCellDef="let contact">{{contact.conatctNumber}}</td>
                </ng-container>

                <ng-container matColumnDef="email">
                  <th mat-header-cell *matHeaderCellDef>Email </th>
                  <td mat-cell *matCellDef="let contact">{{contact.email}}</td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table> 
            </div>
          </div> 
      </div>
    </div>
  </div>
</div>